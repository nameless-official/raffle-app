<div *ngIf="loading" class="loading-container">
  <div class="loading-spinner"></div>
</div>
<div *ngIf="!loading" class="raffle-container">
  <div class="raffle-header">
    <div
      class="raffle-status float-rigth"
      [ngClass]="{ finished: raffle.raffleStatus.is_finished }"
    >
      <span class="status-name">{{ raffle.raffleStatus.name }}</span>
      <span *ngIf="raffle.raffleStatus.is_finished" class="finished-status"
        >Finished</span
      >
    </div>
    <h1 class="text-center">{{ raffle.name }}</h1>
    <p class="text-center">{{ raffle.description }}</p>
  </div>
  <div class="raffle-info">
    <p><strong>Fecha de inicio: </strong> {{ raffle.start_date }}</p>
    <p><strong>Fecha de fin: </strong> {{ raffle.end_date }}</p>
  </div>
  <div class="raffle-image">
    <img
      [src]="
        raffle.image_url ||
        './../../../../../assets/devtalles-branding/gift-devi-3.png'
      "
      height="200px"
      alt="Raffle Image"
    />
  </div>

  <button
    pButton
    icon="pi pi-circle-fill"
    label="Elegir ganadores aleatorios"
    class="md:align-self-end mb-2 p-button-rounded"
  ></button>

  <div class="card mt-2">
    <div class="col-12" *ngFor="let item of participants; let first = first">
      <div
        class="flex flex-column xl:flex-row xl:align-items-start p-4 gap-4"
        [ngClass]="{ 'border-top-1 surface-border': !first }"
      >
        <div
          class="flex flex-column sm:flex-row justify-content-between align-items-center xl:align-items-start flex-1 gap-4"
        >
          <div
            class="flex flex-column align-items-center sm:align-items-start gap-3"
          >
            <div class="text-2xl font-bold text-900">{{ item.name }}</div>
            <div class="flex align-items-center gap-3">
              <span class="font-semibold"
                >Discord id: {{ item.discord_user_id }}</span
              >
              <br />
              <span class="flex align-items-center gap-2">
                <span class="">{{ item.email }}</span>
              </span>
            </div>
          </div>
          <div
            class="flex sm:flex-column align-items-center sm:align-items-end gap-3 sm:gap-2"
          >
            <button
              pButton
              icon="pi pi-circle-fill"
              class="md:align-self-end mb-2 p-button-rounded"
            ></button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
